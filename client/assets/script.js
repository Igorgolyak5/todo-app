var app=angular.module("taskApp",[]);app.factory("httpRequestInterceptor",function(){return{request:function(t){return t.headers["Access-Control-Allow-Origin"]="*",t.headers["Content-Type"]="application/json",t.url="http://localhost:8080"+t.url,t}}}),app.config(["$httpProvider",function(t){t.interceptors.push("httpRequestInterceptor")}]);
angular.module("taskApp").controller("TaskController",["$scope","taskService",function(n,t){function c(){t.getAll().success(function(t){n.tasks=t})}n.tasks=[],n.activeModal=!1,c(),n.update=function(a){t.update(a).success(function(){n.activeModal=!1,c()})},n.changeStatus=function(n){t.changeStatus(n).success(function(){c()})},n.remove=function(n){t.remove(n).success(function(){c()})},n.add=function(n,a){t.add(n,a).success(function(){c()})},n.hide=function(t){n.activeModal=!1},n.showModal=function(t){n.activeModal=!0,n.changeTask=angular.copy(t),n.changeTask.date=moment(new Date(t.date),moment.ISO_8601).format("MM/DD/YYYY")}}]);
angular.module("taskApp").service("taskService",["$http",function(t){this.getAll=function(){return t.get("/tasks/list")},this.remove=function(e){return t.post("/tasks/remove/"+e,{})},this.changeStatus=function(e){return t.post("/tasks/change-status/"+e,{})},this.add=function(e,s){return t.post("/tasks/add/",{name:e,date:new Date(s)})},this.update=function(e){return e.date=new Date(e.date),t.post("/tasks/update/",e)}}]);
angular.module("taskApp").directive("datepicker",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var r=function(t){e.$apply(function(){i.$setViewValue(t)})},a={dateFormat:"dd/mm/yy",onSelect:function(e){r(e)}};t.datepicker(a)}}});
angular.module("taskApp").directive("modal",function(){return{template:'<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><div class="modal-dialog modal-sm"><div class="modal-content" ng-transclude><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabel">Modal title</h4></div></div></div></div>',restrict:"E",transclude:!0,replace:!0,scope:{visible:"=",onSown:"&",onHide:"&"},link:function(a,e,l){$(e).modal({show:!1,keyboard:l.keyboard,backdrop:l.backdrop}),a.$watch(function(){return a.visible},function(a){1==a?$(e).modal("show"):$(e).modal("hide")}),$(e).on("shown.bs.modal",function(){a.$apply(function(){a.$parent[l.visible]=!0})}),$(e).on("shown.bs.modal",function(){a.$apply(function(){a.onSown({})})}),$(e).on("hidden.bs.modal",function(){a.$apply(function(){a.$parent[l.visible]=!1})}),$(e).on("hidden.bs.modal",function(){a.$apply(function(){a.onHide({})})})}}}),angular.module("taskApp").directive("modalHeader",function(){return{template:'<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">{{title}}</h4></div>',replace:!0,restrict:"E",scope:{title:"@"}}}),angular.module("taskApp").directive("modalBody",function(){return{template:'<div class="modal-body" ng-transclude></div>',replace:!0,restrict:"E",transclude:!0}}),angular.module("taskApp").directive("modalFooter",function(){return{template:'<div class="modal-footer" ng-transclude></div>',replace:!0,restrict:"E",transclude:!0}});